jQuery(document).ready(function(){if("undefined"!=typeof TableFilterSortTableList){var e=0;for(e=0;e<TableFilterSortTableList.length;e++)TableFilterSortTableList[e]=jQuery(TableFilterSortTableList[e]).tableFilterSort()}}),function(e){e.fn.tableFilterSort=function(e){var t=0,r=this,a={debug:!1,holderNumber:0,myTableHolder:r,myFilterFormHolder:null,myTable:null,myTableBody:null,myRows:null,dataDictionary:[],currentFilter:{},showFromRow:0,visibleRowCount:50,totalRowCount:0,maximumNumberOfFilterOptions:25,intervalForFilterCheck:1e3,hasFixedTableHeader:!0,millisecondsBetweenActions:10,validDataTypes:["number","string","date"],maxNumberOfValuesToCheck:500,filterTitle:"Filter Table",noFilterSelectedText:"No filter selected",closeAndApplyFilterText:"Close and Apply Filter",currentFilterText:"Current Filter",greaterThanLabel:"&gt; ",lowerThanLabel:"&lt; ",tableSelector:"table.tableFilterSortTable",rowSelector:"tr.tfsRow",directLinkClass:"dl",filterItemSelector:"span[data-filter]",showMoreDetailsSelector:".more",moreDetailsSelector:".hidden",filterFormHolderSelector:".tableFilterSortFilterFormHolder",sortLinkSelector:"thead a.sortable",moreRowEntriesSelector:".tableFilterSortMoreEntries",matchRowCountSelector:".match-row-number",minRowSelector:".min-row-number",maxRowSelector:".max-row-number",totalRowCountSelector:".total-row-number",visibleRowCountSelector:".total-showing-row-number",paginationSelector:".pagination",loadingClass:"loading",showClass:"show",hideClass:"hide",matchClass:"match",notMatchClass:"no-match",openedClass:"opened",filterIsOpenClass:"filterIsOpen",sectionFilterClassAppendix:"Filter",commonContentHolderClass:"tableFilterSortCommonContentHolder",currentSearchFilterClass:"tableFilterSortCurrentSearchHolder",openAndCloseFilterFormClass:"tableFilterSortOpenFilterForm",filterOptionsHolderClass:"tableFilterSortFilterFormOptions",filterGroupClass:"filterColumn",groupLabelClass:"groupLabel",applyFilterClass:"applyFilter",filterInUseClass:"tableFilterSortFilterInUse",filterNotInUseClass:"tableFilterSortFilterNotInUse",noMatchMessageClass:"no-matches-message",sortAscClass:"sort-asc",sortDescClass:"sort-desc",init:function(e){var t=a;t.holderNumber=e,t.myTableHolder=r,t.myTable=t.myTableHolder.find(t.tableSelector).first(),t.myTableBody=t.myTable.find(" > tbody"),t.resetObjects(),t.myRows.length>1&&(t.myTableHolder.addClass(t.loadingClass),window.setTimeout(function(){t.debug&&(console.profileEnd(),console.profile("filterItemCollector")),t.filterItemCollector(),t.debug&&(console.profileEnd(),console.profile("tableHideColsWhichAreAllTheSame")),t.tableHideColsWhichAreAllTheSame(),t.debug&&(console.profileEnd(),console.profile("dataDictionaryCollector")),t.dataDictionaryCollector(),t.debug&&(console.profileEnd(),console.profile("setupFilterFormListeners")),t.setupFilterFormListeners(),t.debug&&(console.profileEnd(),console.profile("setupSortListeners")),t.setupSortListeners(),t.debug&&(console.profileEnd(),console.profile("paginationListeners")),t.paginationListeners(),t.debug&&console.profile("toggleSlideSetup"),t.toggleSlideSetup(),t.debug&&(console.profileEnd(),console.profile("createFilterForm")),t.createFilterForm(),t.debug&&(console.profileEnd(),console.profile("directFilterLinkListener")),t.directFilterLinkListener(),t.debug&&console.profileEnd(),t.myTableHolder.removeClass(t.loadingClass),t.debug&&console.profile("runCurrentSort"),t.runCurrentSort(),t.debug&&(console.profileEnd(),console.profile("showAndHideFilterForm")),t.showAndHideFilterForm(),t.debug&&(console.profileEnd(),console.profile("fixTableHeader")),t.fixTableHeader(),t.debug&&console.profileEnd()},t.millisecondsBetweenActions))},resetObjects:function(){var e=a;e.myRows=e.myTable.find(e.rowSelector)},filterItemCollector:function(){var e=a,t="",r="";e.myRows.each(function(a,o){jQuery(o).find(e.filterItemSelector).each(function(a,o){o=jQuery(o),t=o.text(),r=o.attr("data-filter"),t.trim().length>0&&(e.debug&&console.debug("adding "+t+" to "+r),"undefined"==typeof e.dataDictionary[r]&&(e.dataDictionary[r]={}),"undefined"==typeof e.dataDictionary[r].Options&&(e.dataDictionary[r].Options=[]),e.dataDictionary[r].Options.indexOf(t)===-1&&e.dataDictionary[r].Options.push(t))})})},tableHideColsWhichAreAllTheSame:function(){var e=a,t=e.myTableHolder.find("."+e.commonContentHolderClass).attr("data-title");t="undefined"!=typeof t?"<h3>"+t+"</h3>":"";var r='<div class="'+e.commonContentHolderClass+'-inner">'+t+"<ul>",o=!1;Object.keys(e.dataDictionary).forEach(function(t,a){if(1===e.dataDictionary[t].Options.length){delete e.dataDictionary[t],e.debug&&console.debug("tableHideColsWhichAreAllTheSame: checking category: "+t),o=!0;var l=!1;jQuery('span[data-filter="'+t+'"]').each(function(a,o){o=jQuery(o),l||""!==o.html()&&(r+="<li><strong>"+t+":</strong> <span>"+o.html()+"</span></li>",l=!0);var n=o.parent();if(o.remove(),n.is("li"))n.hide();else if(n.is("td")&&0===n.children().length){if(0===a){var i=n.parent("tr").children("td").index(n);e.myTable.find("th").eq(i).remove()}n.remove()}})}}),r+="</ul></div>",o?e.myTableHolder.find("."+e.commonContentHolderClass).html(r):e.myTableHolder.find("."+e.commonContentHolderClass).remove()},dataDictionaryCollector:function(){var e=a;Object.keys(e.dataDictionary).forEach(function(t,r){"undefined"==typeof e.dataDictionary[t].Options&&(e.dataDictionary[t].Options=[]),"undefined"==typeof e.dataDictionary[t].CanFilter&&(e.dataDictionary[t].CanFilter=e.dataDictionary[t].Options.length>1&&e.dataDictionary[t].Options.length<e.myRows.length);var a=e.myTable.find(e.sortLinkSelector+'[data-sort-field="'+t+'"]').first();if("undefined"==typeof e.dataDictionary[t].CanSort&&(e.dataDictionary[t].CanSort=a.length>0),"undefined"==typeof e.dataDictionary[t].DataType&&e.dataDictionary[t].CanSort){var o=a.attr("data-sort-type");e.dataDictionary[t].DataType=o}if("undefined"==typeof e.dataDictionary[t].DataType){var l="number",n=!1,i=0,s=e.dataDictionary[t].Options.length<e.maxNumberOfValuesToCheck?e.dataDictionary[t].Options.length:500;for(i=0;i<s;i++)if(n=jQuery.isNumeric(e.dataDictionary[t].Options[i]),n===!1){l="string";break}e.dataDictionary[t].DataType=l}switch(jQuery.inArray(e.dataDictionary[t].DataType,e.validDataTypes)===!1&&console.debug("ERROR: invalid DataType for"+t+": "+e.dataDictionary[t].DataType),e.dataDictionary[t].DataType){case"number":e.dataDictionary[t].Options.sort(function(e,t){return e=parseFloat(e.replace(/[^0-9.]/g,"")),t=parseFloat(t.replace(/[^0-9.]/g,"")),e-t});break;case"string":default:e.dataDictionary[t].Options.sort()}})},setupFilterFormListeners:function(){var e=a;e.myTableHolder.on("click","."+e.openAndCloseFilterFormClass,function(t){return t.preventDefault(),e.myFilterFormHolder.find("."+e.filterOptionsHolderClass).toggleClass(e.openedClass).slideToggle("fast"),e.myTableHolder.toggleClass(e.filterIsOpenClass),e.myTableHolder.hasClass(e.filterIsOpenClass)||e.applyFilter(),!1})},setupSortListeners:function(){var e=a;e.myTable.on("click",e.sortLinkSelector,function(t){t.preventDefault();var r=jQuery(this);e.showFromRow=0,e.startRowManipulation(),e.myTable.find(e.sortLinkSelector).removeClass(e.sortAscClass).removeClass(e.sortDescClass),window.setTimeout(function(){var t=r.attr("data-sort-field"),a=r.attr("data-sort-direction"),o=r.attr("data-sort-type");"undefined"==typeof o&&(o=e.dataDictionary[t].DataType);var l=[];e.myRows.each(function(e,r){var a=jQuery(r),n=a.find('[data-filter="'+t+'"]').text();"number"===o&&(n=n.replace(/[^\d.-]/g,""),n=parseFloat(n));var i=new Array(n,e);l.push(i)}),e.myTableBody.empty(),l.sort(e.sortMultiDimensionalArray),"desc"===a?(l.reverse(),r.attr("data-sort-direction","asc").addClass(e.sortDescClass)):r.attr("data-sort-direction","desc").addClass(e.sortAscClass),l.forEach(function(t){e.myTableBody.append(e.myRows[t[1]])}),e.endRowManipulation()},e.millisecondsBetweenActions)})},paginationListeners:function(){var e=a;e.myTableHolder.on("click",e.paginationSelector+" a",function(t){t.preventDefault();var r=jQuery(this).attr("data-page");e.gotoPage(r)})},toggleSlideSetup:function(){var e=a;e.myTableHolder.on("click",e.showMoreDetailsSelector,function(t){t.preventDefault();var r=jQuery(this),a=r.closest("tr");a.toggleClass(e.openedClass).find(e.moreDetailsSelector).each(function(t,r){r=jQuery(r),r.slideToggle(),r.toggleClass(e.openedClass)}),r.toggleClass(e.openedClass)})},createFilterForm:function(){var e=a;if(e.myFilterFormHolder=e.myTableHolder.find(e.filterFormHolderSelector).first(),e.myFilterFormHolder.length){var t=e.myFilterFormHolder.attr("data-title");if("undefined"==typeof t&&(t=e.filterTitle),0===e.myTableHolder.find("."+e.currentSearchFilterClass).length)var r='<div class="'+e.currentSearchFilterClass+'"></div>';var o=1,l=[],n="<form>"+r+'<a href="#" class="'+e.openAndCloseFilterFormClass+' button closed">'+t+'</a><div style="display: none;" class="'+e.filterOptionsHolderClass+'">',i="Keywords";n+=e.makeSectionHeaderForForm("keyword",i),n+=e.makeFieldForForm("keyword",i,o,0),n+=e.makeSectionFooterForForm(),Object.keys(e.dataDictionary).forEach(function(t,r){o++;var a=0,i=e.dataDictionary[t].Options.length;if(i>1&&i<=e.maximumNumberOfFilterOptions){for(n+=e.makeSectionHeaderForForm("checkbox",t),a=0,a=0;a<i;a++){var s=e.dataDictionary[t].Options[a];n+=e.makeFieldForForm("checkbox",t,o,s)}n+=e.makeSectionFooterForForm()}else if(i>e.maximumNumberOfFilterOptions){var d=e.dataDictionary[t].DataType;"string"===e.dataDictionary[t].DataType&&(l.push(t),d="tag"),n+=e.makeSectionHeaderForForm(d,t),n+=e.makeFieldForForm(d,t,o,0),n+=e.makeSectionFooterForForm()}});var s=e.myFilterFormHolder.attr("data-title-close-and-apply");"undefined"==typeof s&&(s=e.closeAndApplyFilterText),n+='<div class="'+e.applyFilterClass+'"><a href="#" class="'+e.openAndCloseFilterFormClass+' button closed">'+s+"</a></div></div></form>",e.myFilterFormHolder.html(n);var d,c=0;for(c=0;c<l.length;c++){i=l[c],console.debug(i);var u=e.myFilterFormHolder.find('input[name="'+i+'"].awesomplete').first(),f=jQuery(u).attr("id");console.debug(f);var d=document.getElementById(f);new Awesomplete(d,{list:e.dataDictionary[i].Options,autoFirst:!0,replace:function(t){e.makeCheckboxSection(this.input,t.value),this.input.value="";var r=this._list.indexOf(t.value);r>-1&&this._list.splice(r,1)}})}}},makeSectionHeaderForForm:function(e,t){var r=a,o=e+r.sectionFilterClassAppendix,r=(t.replace(/\W/g,""),a);return'<div class="'+r.filterGroupClass+" "+o+'" field-type="'+e+'" data-to-filter="'+t.raw2attr()+'"><label class="'+r.groupLabelClass+'">'+r.replaceAll(t,"-"," ")+"</label><ul>"},makeFieldForForm:function(e,t,r,o){var l=a,n=t.replace(/\W/g,""),i=o.toString(),s=("TFS_"+n+"_"+i).replace(/[^a-zA-Z0-9]+/g,"");if(0===l.myFilterFormHolder.find("input#"+s).length){var d='<li class="'+e+'Field">',c="</li>";switch(e){case"keyword":case"tag":var u="";return"undefined"!=typeof l.currentFilter[t]&&"undefined"!=typeof l.currentFilter[t][0]&&(u=l.currentFilter[t][0],u=u.raw2attr()),"keyword"===e?extraClass="keyword":"tag"===e&&(extraClass="awesomplete"),d+'<input class="text '+extraClass+'" type="text" name="'+t.raw2attr()+'" id="'+s+'" tabindex="'+r+'" />'+c;case"checkbox":var f="";if("undefined"!=typeof l.currentFilter[t]){var p=jQuery.inArray(o,l.currentFilter[t]);p>-1&&(f='checked="checked"')}return d+'<input class="checkbox" type="checkbox" name="'+s+'" id="'+s+'" value="'+o.raw2attr()+'" '+f+' " tabindex="'+r+'" /><label for="'+s+'">'+o+"</label>"+c;case"number":case"date":var u=["",""];"undefined"!=typeof l.currentFilter[t]&&(u=l.currentFilter[t]);var m=d+'<span class="gt"> <label for="'+s+'_gt">'+l.greaterThanLabel+'</label> <input data-dir="gt" data-label="'+l.greaterThanLabel.raw2attr()+'" class="number" step="any" type="number" name="'+n+'[]" id="'+s+'" tabindex="'+r+'" value="'+u[0].raw2attr()+'" /> </span><span class="lt"> <label for="'+s+'_lt">'+l.lowerThanLabel+'</label> <input data-dir="lt" data-label="'+l.lowerThanLabel.raw2attr()+'"  class="number" step="any" type="number" name="'+n+'[]" id="'+s+'_lt" tabindex="'+r+'" value="'+u[1].raw2attr()+'" /> </span>'+c;return"date"===e&&(m=l.replaceAll(m,"number","datetime-local"),m=l.replaceAll(m,"step","86400")),m}}},makeSectionFooterForForm:function(){return"</ul></div>"},makeCheckboxSection:function(e,t){var r=a;e=jQuery(e);var o=e.attr("name");tabIndex=e.attr("tabindex");var l=r.makeFieldForForm("checkbox",o,tabIndex,t);l.length>5&&(l=l.replace("<input ",'<input checked="checked" '),e.closest("ul").append(l))},directFilterLinkListener:function(){var e=a;e.myTableBody.on("click","span[data-filter]."+e.directLinkClass,function(t){t.preventDefault();var r=jQuery(this),a=r.attr("data-filter"),o=r.text().toLowerCase().trim(),l=e.myFilterFormHolder.find("."+e.filterGroupClass+'[data-to-filter="'+a+'"]'),n=l.attr("field-type"),i=l.find('input[value="'+o+'"].checkbox').first();return console.debug(r),console.debug(a),console.debug(o),console.debug(l),console.debug(i),i&&i.length>0?i.is(":checkbox")&&(i.prop("checked")===!0?i.prop("checked",!1).trigger("change"):i.prop("checked",!0).trigger("change")):"tag"===n&&e.makeCheckboxSection(l.find("input.awesomplete").first(),o),e.applyFilter(),!1})},runCurrentSort:function(){var e=a,t="."+e.sortDescClass+", ."+e.sortAscClass,r=e.myTableHolder.find(t).first();r&&r.length>0||(r=e.myTableHolder.find(e.sortLinkSelector+"[data-sort-default=true]").first()),r&&r.length>0||(r=e.myTableHolder.find(e.sortLinkSelector).first()),r&&r.length>0&&r.click()},applyFilter:function(){var e=a;e.showFromRow=0,e.workOutCurrentFilter(),e.startRowManipulation(),window.setTimeout(function(){e.debug&&(console.debug("=============="),console.debug(e.currentFilter)),e.myRows.each(function(t,r){var a=jQuery(r);e.debug&&console.log("===");var o=!0,l=!0;Object.keys(e.currentFilter).forEach(function(t,r){if(l){for(var n=!1,i=!0,s=0;s<e.currentFilter[t].length;s++){var d=e.currentFilter[t][s];if(i){if("Keywords"===t){for(var c=d.valueToMatch,u=a.text().toLowerCase(),f=c.split(" "),p=!0,m=0;m<f.length;m++){var y=f[m].trim();if(u.indexOf(y)===-1){p=!1;break}}p===!0&&(n=!0)}else a.find('span[data-filter="'+t+'"]').each(function(r,a){a=jQuery(a);var o=a.text().toLowerCase().trim();switch(e.dataDictionary[t].DataType){case"date":break;case"number":o=parseFloat(o.replace(/[^0-9.]/g,""));var l=d.lt,i=!0;if(jQuery.isNumeric(l)&&0!==l&&l<o&&(i=!1),i){var s=d.gt;jQuery.isNumeric(s)&&0!==s&&s>o&&(i=!1)}i&&(n=!0);break;case"string":default:var c=d.valueToMatch;o===c&&(n=!0)}return n?(e.debug&&console.log("FILTER - MATCH: '"+c+"' in '"+t+"'"),!1):void(e.debug&&console.log("FILTER - NO MATCH: '"+c+"' in '"+t+"'"))});n&&(i=!1)}}n||(o=!1,l=!1)}}),o?a.addClass(e.matchClass).removeClass(e.notMatchClass):a.addClass(e.notMatchClass).removeClass(e.matchClass)}),e.endRowManipulation(),e.debug&&(console.debug(e.currentFilter),console.debug("=============="))},e.millisecondsBetweenActions)},gotoPage:function(e){var t=a;t.showFromRow=e*t.visibleRowCount,t.startRowManipulation(),t.endRowManipulation()},showAndHideFilterForm:function(){var e=a;window.setInterval(function(){e.myTableHolder.isOnScreen()||e.myTableHolder.hasClass(e.filterIsOpenClass)?(e.myTableHolder.addClass(e.filterInUseClass),e.myTableHolder.removeClass(e.filterNotInUseClass)):(e.myTableHolder.addClass(e.filterNotInUseClass),e.myTableHolder.removeClass(e.filterInUseClass))},e.intervalForFilterCheck)},fixTableHeader:function(){var e=this;if(e.hasFixedTableHeader){jQuery('<table class="fixed-header" style="position: fixed; top: 0px; display:none;"></table>').insertAfter(e.tableSelector);var t=e.myTable.find("thead").clone(),r=e.myTableHolder.find(".fixed-header").append(t);jQuery(window).bind("scroll",function(){var t=e.myTable.offset().top,a=jQuery(this).scrollTop();if(a>t&&r.is(":hidden")){e.myTable.addClass("fake-header"),r.show(),r.width(e.myTable.outerWidth());var o=r.find("thead tr:first th, thead tr:first td");e.myTable.find("thead tr:first th, thead tr:first td").each(function(e,t){var r=jQuery(t).width();jQuery(o.eq(e)).width(r)})}else a<=t&&(e.myTable.removeClass("fake-header"),r.hide())})}},startRowManipulation:function(){var e=a;e.resetObjects(),e.myTableHolder.addClass(e.loadingClass).find(e.moreRowEntriesSelector).hide(),e.myTable.hide(),e.myRows.each(function(t,r){jQuery(r).addClass(e.hideClass).removeClass(e.showClass)})},endRowManipulation:function(){var e=a;e.resetObjects();var t=e.showFromRow,r=0,o=0,l=0,n=0===e.myTableBody.find("tr."+e.notMatchClass).length,i=!1;e.myRows.each(function(a,s){s=jQuery(s),r++,i=!1,(n||s.hasClass(e.matchClass))&&(i=!0,o++),i&&o>t&&l<e.visibleRowCount&&(l++,s.removeClass(e.hideClass).addClass(e.showClass))}),o>0?jQuery("."+e.noMatchMessageClass).hide():jQuery("."+e.noMatchMessageClass).show();var s=t+l,d=Math.ceil(o/e.visibleRowCount),c=Math.floor(e.showFromRow/e.visibleRowCount),u="";if(d>1){var f=0,p=0,m=c-2,y=c+2;for(f=0;f<d;f++)c===f?(p=0,u+="<span>["+(f+1)+"]</span>"):(test1=f>m&&f<y,test2=f>=d-3,test3=f<3,test1||test2||test3?(p=0,u+='<a href="#" data-page="'+f+'">'+(f+1)+"</a> "):p<3&&(p++,u+=" . ")),u+=" ";e.myTableHolder.find(e.moreRowEntriesSelector).show()}else e.myTableHolder.find(e.moreRowEntriesSelector).not(".alwaysShow").hide();t++,e.myTableHolder.find(e.matchRowCountSelector).text(o),e.myTableHolder.find(e.minRowSelector).text(t),e.myTableHolder.find(e.maxRowSelector).text(s),e.myTableHolder.find(e.totalRowCountSelector).text(r),e.myTableHolder.find(e.visibleRowCountSelector).text(l),e.myTableHolder.find(e.paginationSelector).html(u),e.myTable.show(),e.myTableHolder.removeClass(e.loadingClass),jQuery("html, body").animate({scrollTop:e.myTableHolder.offset().top-550},200),e.resetObjects()},workOutCurrentFilter:function(){var e,t=a,r="",o="",l="";t.currentFilter={},t.myFilterFormHolder.find(" ."+t.filterGroupClass).each(function(a,n){e=jQuery(n),o=e.attr("data-to-filter");var i=e.attr("field-type");if("keyword"===i);else{t.dataDictionary[o].DataType}var s=[];if(e.find("input").each(function(e,r){r=jQuery(r);var a=r.val(),n=a.toLowerCase().trim();switch(i){case"keyword":if(n.length>1)if("undefined"==typeof t.currentFilter[o]&&(t.debug&&console.log("adding "+o),t.currentFilter[o]=[]),"keyword"===l)t.currentFilter[o].push({valueToMatch:n,inputVal:a}),s.push(n);else{var d=n.split(","),e=0,c=d.length;for(e=0;e<c;e++)innerInputVal=d[e].trim(),innerValueToMatch=innerInputVal,innerValueToMatch.length>1&&(t.currentFilter[o].push({valueToMatch:innerValueToMatch,inputVal:innerInputVal}),s.push(innerValueToMatch),t.debug&&console.log("... adding '"+innerValueToMatch+"' to '"+o+"'"))}break;case"tag":case"checkbox":r.is(":checked")&&("undefined"==typeof t.currentFilter[o]&&(t.debug&&console.log("adding "+o),t.currentFilter[o]=[]),t.currentFilter[o].push({valueToMatch:n,inputVal:a}),s.push(n),t.debug&&console.log("... adding '"+o+"' to '"+n+"'"));break;case"number":var u=parseFloat(r.val());jQuery.isNumeric(u)&&0!==u&&("undefined"==typeof t.currentFilter[o]&&(t.debug&&console.log("adding "+o),t.currentFilter[o]=[]),s.push(r.attr("data-label")+u),"undefined"==typeof t.currentFilter[o][0]&&(t.currentFilter[o][0]={}),t.currentFilter[o][0][r.attr("data-dir")]=u);break;case"date":var u=r.val().trim();"0"!==u&&""!==u&&("undefined"==typeof t.currentFilter[o]&&(t.debug&&console.log("adding "+o),t.currentFilter[o]={}),s.push(r.attr("data-label")+u),t.currentFilter[o][0][r.attr("data-dir")]=u)}}),"undefined"!=typeof t.currentFilter[o]){var d=e.find("label."+t.groupLabelClass).text();r+="<li><strong>"+d+":</strong> <span>"+s.join("</span><span>")+"</span></li>"}}),0===r.length&&(r=t.noFilterSelectedText);var n=t.myTableHolder.find("."+t.currentSearchFilterClass),i=n.attr("data-title");"undefined"==typeof i&&(i=t.currentFilterText),r="<div><h3>"+i+"</h3><ul>"+r+"</ul></div>",n.html(r),t.myTableHolder.hasClass(t.filterIsOpenClass)?n.hide():n.show()},replaceAll:function(e,t,r){return e.split(t).join(r),e},objectSize:function(e){var t,r=0;if("undefined"==typeof e)return 0;for(t in e)e.hasOwnProperty(t)&&r++;return r},objectSort:function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push([r,e[r]]);t.sort(function(e,t){return e=e[1],t=t[1],e<t?-1:e>t?1:0});var a={},o=0;for(o=0;o<t.length;o++)"string"==typeof t[o][1]&&(a[t[o][0]]=t[o][1]);return a},makeID:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r=0;r<9;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},sortMultiDimensionalArray:function(e,t){var r=e[0];"string"==typeof r&&(r=r.toLowerCase());var a=t[0];return"string"==typeof a&&(a=a.toLowerCase()),r===a?0:r<a?-1:1}};return a=jQuery.extend(a,e),this.each(function(e,r){a.init(t),t++}),{getVar:function(e){if(a.hasOwnProperty(e))return a[e]},setVar:function(e,t){return a[e]=t,this},gotoPage:function(e){return a.gotoPage(e),this}}}}(jQuery),String.prototype.raw2attr=function(){return(""+this).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r\n/g,"&#13;").replace(/[\r\n]/g,"&#13;")},String.prototype.attr2raw=function(){var e=""+this;e=e.replace(/\r\n/g,"\n").replace(/[\r\n]/,"\n").replace(/&#13;&#10;/g,"\n").replace(/&#1[03];/g,"\n").replace(/&#9;/g,"\t").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&apos;/g,"'");var t=/&[^;]*;?/.match(e);if(t.length>0&&"&amp;"!==t[0])throw"unsafe entity found in the attribute literal content";return e=e.replace(/&amp;/g,"&")},jQuery.fn.isOnScreen=function(){var e={};e.top=jQuery(window).scrollTop(),e.bottom=e.top+jQuery(window).height();var t={};return t.top=this.offset().top,t.bottom=t.top+this.outerHeight(),t.top<=e.bottom&&t.bottom>=e.top};